--
-- PostgreSQL database dump
--

\restrict 9QJgRNKpJK8iKbs63sluZaWvN1sRiElCnll8bqPMAWE4iBc5z4i2vJjyjj7yWM6

-- Dumped from database version 16.11 (Debian 16.11-1.pgdg13+1)
-- Dumped by pg_dump version 16.11 (Debian 16.11-1.pgdg13+1)

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: budget_items; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.budget_items (
    item_id integer NOT NULL,
    actual_amount numeric(38,2),
    budget_id integer NOT NULL,
    category_id integer NOT NULL,
    planned_amount numeric(38,2)
);


ALTER TABLE public.budget_items OWNER TO postgres;

--
-- Name: budget_items_item_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.budget_items ALTER COLUMN item_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.budget_items_item_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: budget_periods; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.budget_periods (
    budget_id integer NOT NULL,
    month integer,
    total_actual numeric(38,2),
    total_planned numeric(38,2),
    user_id integer NOT NULL,
    year integer
);


ALTER TABLE public.budget_periods OWNER TO postgres;

--
-- Name: budget_periods_budget_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.budget_periods ALTER COLUMN budget_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.budget_periods_budget_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: categories; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.categories (
    category_id integer NOT NULL,
    name character varying(100) NOT NULL,
    type character varying(30) NOT NULL,
    user_id integer NOT NULL
);


ALTER TABLE public.categories OWNER TO postgres;

--
-- Name: categories_category_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.categories ALTER COLUMN category_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.categories_category_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: email_verification_tokens; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.email_verification_tokens (
    token_id integer NOT NULL,
    expires_at timestamp(6) with time zone NOT NULL,
    token character varying(100) NOT NULL,
    used boolean NOT NULL,
    user_id integer NOT NULL
);


ALTER TABLE public.email_verification_tokens OWNER TO postgres;

--
-- Name: email_verification_tokens_token_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.email_verification_tokens ALTER COLUMN token_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.email_verification_tokens_token_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: flyway_schema_history; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.flyway_schema_history (
    installed_rank integer NOT NULL,
    version character varying(50),
    description character varying(200) NOT NULL,
    type character varying(20) NOT NULL,
    script character varying(1000) NOT NULL,
    checksum integer,
    installed_by character varying(100) NOT NULL,
    installed_on timestamp without time zone DEFAULT now() NOT NULL,
    execution_time integer NOT NULL,
    success boolean NOT NULL
);


ALTER TABLE public.flyway_schema_history OWNER TO postgres;

--
-- Name: user_onboarding_selections; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.user_onboarding_selections (
    id integer NOT NULL,
    category character varying(255) NOT NULL,
    frequency character varying(255),
    step character varying(255) NOT NULL,
    user_id integer,
    value character varying(255)
);


ALTER TABLE public.user_onboarding_selections OWNER TO postgres;

--
-- Name: user_onboarding_selections_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.user_onboarding_selections ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.user_onboarding_selections_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: users; Type: TABLE; Schema: public; Owner: postgres
--

CREATE TABLE public.users (
    user_id integer NOT NULL,
    budget_start_day integer,
    created_at timestamp(6) with time zone,
    date_of_birth date,
    email character varying(120) NOT NULL,
    google_id character varying(255),
    is_verified boolean,
    name character varying(100),
    onboarding_completed boolean NOT NULL,
    password_hash character varying(255),
    role character varying(20),
    subscription_id integer,
    timezone character varying(50),
    updated_at timestamp(6) with time zone,
    gender character varying(10),
    phone character varying(20)
);


ALTER TABLE public.users OWNER TO postgres;

--
-- Name: users_user_id_seq; Type: SEQUENCE; Schema: public; Owner: postgres
--

ALTER TABLE public.users ALTER COLUMN user_id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.users_user_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Data for Name: budget_items; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.budget_items (item_id, actual_amount, budget_id, category_id, planned_amount) FROM stdin;
\.


--
-- Data for Name: budget_periods; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.budget_periods (budget_id, month, total_actual, total_planned, user_id, year) FROM stdin;
\.


--
-- Data for Name: categories; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.categories (category_id, name, type, user_id) FROM stdin;
1	Groceries	EXPENSE	1
2	Transport	EXPENSE	1
3	Utilities	EXPENSE	1
4	Music	SUBSCRIPTION	1
5	Tv / streaming	SUBSCRIPTION	1
6	Fitness	SUBSCRIPTION	1
7	New house Fund	GOAL	1
8	New car Fund	GOAL	1
9	Education Fund	GOAL	1
10	Books	EXPENSE	1
11	Gaming	EXPENSE	1
12	Groceries	EXPENSE	2
13	Transport	EXPENSE	2
14	Utilities	EXPENSE	2
15	Music	SUBSCRIPTION	2
16	Tv / streaming	SUBSCRIPTION	2
17	Fitness	SUBSCRIPTION	2
18	New house Fund	GOAL	2
19	New car Fund	GOAL	2
20	Gardening	EXPENSE	2
21	Books	EXPENSE	2
\.


--
-- Data for Name: email_verification_tokens; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.email_verification_tokens (token_id, expires_at, token, used, user_id) FROM stdin;
1	2026-01-03 09:06:11.582999+00	62473e35-4530-4332-a095-383699a9fef9	t	1
2	2026-01-03 09:27:57.78945+00	cf0ecb38-55cd-44f6-a3ac-3b2e95085fb5	t	2
\.


--
-- Data for Name: flyway_schema_history; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.flyway_schema_history (installed_rank, version, description, type, script, checksum, installed_by, installed_on, execution_time, success) FROM stdin;
\.


--
-- Data for Name: user_onboarding_selections; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.user_onboarding_selections (id, category, frequency, step, user_id, value) FROM stdin;
1	display_name	\N	STEP_0	1	Faiyaj
2	subscription	\N	STEP_1	1	Music
3	subscription	\N	STEP_1	1	TV / Streaming
4	subscription	\N	STEP_1	1	Fitness
5	goal	\N	STEP_2	1	New House
6	goal	\N	STEP_2	1	New Car
7	goal	\N	STEP_2	1	Education
8	lifestyle	\N	STEP_3	1	Books
9	lifestyle	\N	STEP_3	1	Gaming
10	display_name	\N	STEP_0	2	Zarif
11	subscription	\N	STEP_1	2	Music
12	subscription	\N	STEP_1	2	TV / Streaming
13	subscription	\N	STEP_1	2	Fitness
14	goal	\N	STEP_2	2	New House
15	goal	\N	STEP_2	2	New Car
16	lifestyle	\N	STEP_3	2	Gardening
17	lifestyle	\N	STEP_3	2	Books
\.


--
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: postgres
--

COPY public.users (user_id, budget_start_day, created_at, date_of_birth, email, google_id, is_verified, name, onboarding_completed, password_hash, role, subscription_id, timezone, updated_at, gender, phone) FROM stdin;
1	1	2026-01-02 09:06:11.557905+00	2005-04-09	faiyaj.jarif01@gmail.com	\N	t	Faiyaj Jarif	t	$2a$10$yOpOk6mFa2PzOC5WNpTlcOfemf.withOQVPiudno0ObUsgD6.GOpe	NORMAL_USER	1	Asia/Dhaka	2026-01-02 09:06:11.557912+00	MALE	+8801410039899
2	1	2026-01-02 09:27:57.760501+00	2004-04-09	faiyaz.jarif@gmail.com	\N	t	Zarif Faiayz	t	$2a$10$rgKw79weLqxGafetN14pheRBrkEoDtAj1AuiwdDyBf.EG6gyqPzOK	NORMAL_USER	1	Asia/Dhaka	2026-01-02 09:27:57.760509+00	MALE	+8801521207945
\.


--
-- Name: budget_items_item_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.budget_items_item_id_seq', 1, false);


--
-- Name: budget_periods_budget_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.budget_periods_budget_id_seq', 1, false);


--
-- Name: categories_category_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.categories_category_id_seq', 21, true);


--
-- Name: email_verification_tokens_token_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.email_verification_tokens_token_id_seq', 2, true);


--
-- Name: user_onboarding_selections_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.user_onboarding_selections_id_seq', 17, true);


--
-- Name: users_user_id_seq; Type: SEQUENCE SET; Schema: public; Owner: postgres
--

SELECT pg_catalog.setval('public.users_user_id_seq', 2, true);


--
-- Name: budget_items budget_items_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.budget_items
    ADD CONSTRAINT budget_items_pkey PRIMARY KEY (item_id);


--
-- Name: budget_periods budget_periods_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.budget_periods
    ADD CONSTRAINT budget_periods_pkey PRIMARY KEY (budget_id);


--
-- Name: categories categories_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.categories
    ADD CONSTRAINT categories_pkey PRIMARY KEY (category_id);


--
-- Name: email_verification_tokens email_verification_tokens_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.email_verification_tokens
    ADD CONSTRAINT email_verification_tokens_pkey PRIMARY KEY (token_id);


--
-- Name: flyway_schema_history flyway_schema_history_pk; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.flyway_schema_history
    ADD CONSTRAINT flyway_schema_history_pk PRIMARY KEY (installed_rank);


--
-- Name: users uk6dotkott2kjsp8vw4d0m25fb7; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT uk6dotkott2kjsp8vw4d0m25fb7 UNIQUE (email);


--
-- Name: email_verification_tokens ukewmvysc7e9y6uy7og2c21axa9; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.email_verification_tokens
    ADD CONSTRAINT ukewmvysc7e9y6uy7og2c21axa9 UNIQUE (token);


--
-- Name: user_onboarding_selections user_onboarding_selections_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.user_onboarding_selections
    ADD CONSTRAINT user_onboarding_selections_pkey PRIMARY KEY (id);


--
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_pkey PRIMARY KEY (user_id);


--
-- Name: flyway_schema_history_s_idx; Type: INDEX; Schema: public; Owner: postgres
--

CREATE INDEX flyway_schema_history_s_idx ON public.flyway_schema_history USING btree (success);


--
-- PostgreSQL database dump complete
--

\unrestrict 9QJgRNKpJK8iKbs63sluZaWvN1sRiElCnll8bqPMAWE4iBc5z4i2vJjyjj7yWM6

